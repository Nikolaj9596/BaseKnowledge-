# Set up docker network

Для изменения диапазона IP-адресов Docker с 172.17.0.0 на другой, например, 172.30.0.0, вам потребуется изменить настройки Docker Daemon. Вот как это можно сделать:

1. Остановите Docker:
```bash
sudo systemctl stop docker    # Для систем с systemd
```
2. Отредактируйте конфигурационный файл Docker Daemon. 
   В большинстве систем он находится в `/etc/docker/daemon.json`.
   Если файл отсутствует, создайте его.

3. Откройте файл `daemon.json` для редактирования и добавьте/измените секцию bip (IP-адрес по умолчанию для мостовой сети) с новым диапазоном IP-адресов, например:

```json
{
    "bip": "172.30.0.0/24"
}
```
Здесь /24 указывает на маску подсети, которая означает, что первые 24 бита IP-адреса будут частью сети,
а оставшиеся 8 бит будут доступны для устройств в этой подсети.

4. Сохраните изменения и закройте файл.
5. Запустите Docker:
```bash
sudo systemctl start docker
```


Если вы хотите, чтобы определенная сеть была дефолтной для всех контейнеров, 
запускаемых с помощью Docker Compose, вам придется использовать настройки сети по умолчанию,
заданные в Docker Daemon.

Настройка сети по умолчанию выполняется на уровне Docker Daemon и,
кажется, Docker Compose не предоставляет прямого способа изменить этот параметр для всех контейнеров.

Вы можете попробовать изменить настройки Docker Daemon, 
чтобы сеть по умолчанию была другой. Для этого:

1. Остановите Docker:
```bash
sudo systemctl stop docker    # Для систем с systemd
```
2. Отредактируйте конфигурационный файл Docker Daemon. 
   В большинстве систем он находится в `/etc/docker/daemon.json`.
   Если файл отсутствует, создайте его.

3. Откройте файл `daemon.json` для редактирования и добавьте/измените секцию bip (IP-адрес по умолчанию для мостовой сети) с новым диапазоном IP-адресов, например:

```json
{
    "default-address-pools": [
        {"base": "172.30.0.0/16", "size": 24}
    ]
}
```
4. Сохраните изменения и закройте файл.
5. Запустите Docker:
```bash
sudo systemctl start docker
```
